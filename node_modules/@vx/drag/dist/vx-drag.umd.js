!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@vx/event"),require("prop-types"),require("react")):"function"==typeof define&&define.amd?define(["exports","@vx/event","prop-types","react"],t):t(e.vx=e.vx||{},e.vx,e.PropTypes,e.React)}(this,function(e,c,t,f){"use strict";function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(o){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},t=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.forEach(function(e){var t,r,n;t=o,n=a[r=e],r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n})}return o}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t=t&&t.hasOwnProperty("default")?t.default:t,f=f&&f.hasOwnProperty("default")?f.default:f;var r=function(e){function o(e){var t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r=this,(t=!(n=i(o).call(this,e))||"object"!=typeof n&&"function"!=typeof n?s(r):n).state={x:void 0,y:void 0,dx:0,dy:0,isDragging:!1},t.dragEnd=t.dragEnd.bind(s(s(t))),t.dragMove=t.dragMove.bind(s(s(t))),t.dragStart=t.dragStart.bind(s(s(t))),t}var t,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(o,f.Component),t=o,(r=[{key:"dragStart",value:function(e){var t=this.props,r=t.onDragStart,n=t.resetOnStart,o=this.state,a=o.dx,i=o.dy,u=c.localPoint(e),s=d({},this.state,{isDragging:!0,dx:n?0:a,dy:n?0:i,x:n?u.x:-a+u.x,y:n?u.y:-i+u.y});r&&r(d({},s,{event:e})),this.setState(function(){return s})}},{key:"dragMove",value:function(e){var t=this.props.onDragMove,r=this.state,n=r.x,o=r.y;if(r.isDragging){var a=c.localPoint(e),i=d({},this.state,{isDragging:!0,dx:-(n-a.x),dy:-(o-a.y)});t&&t(d({},i,{event:e})),this.setState(function(){return i})}}},{key:"dragEnd",value:function(e){var t=this.props.onDragEnd,r=(c.localPoint(e),d({},this.state,{isDragging:!1}));t&&t(d({},r,{event:e})),this.setState(function(){return r})}},{key:"render",value:function(){var e=this.state,t=e.x,r=e.y,n=e.dx,o=e.dy,a=e.isDragging,i=this.props,u=i.children,s=i.width,c=i.height,d=i.captureDragArea;return f.createElement("g",null,a&&d&&f.createElement("rect",{width:s,height:c,onMouseMove:this.dragMove,onMouseUp:this.dragEnd,fill:"transparent"}),u({x:t,y:r,dx:n,dy:o,isDragging:a,dragEnd:this.dragEnd,dragMove:this.dragMove,dragStart:this.dragStart}))}}])&&a(t.prototype,r),n&&a(t,n),o}();r.propTypes={children:t.func.isRequired,width:t.number.isRequired,height:t.number.isRequired,captureDragArea:t.bool,resetOnStart:t.bool,onDragEnd:t.func,onDragMove:t.func,onDragStart:t.func},r.defaultProps={captureDragArea:!0,resetOnStart:!1},e.Drag=r,e.raise=function(e,t){var r=e.slice(),n=r.length-1,o=r.splice(t,1)[0];return r.splice(n,0,o),r},Object.defineProperty(e,"__esModule",{value:!0})});
